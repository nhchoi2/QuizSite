export interface Question {
  text: string;
  options: [string, string];
}

export interface TestResult {
  type: string;
  title: string;
  description: string;
  image: string;
  characteristics: string[];
}

export interface Test {
  id: string;
  title: string;
  description: string;
  duration: string;
  icon: string;
  gradient: string;
  questions: Question[];
  results: {
    high: TestResult;
    low: TestResult;
  };
}

export const tests: Test[] = [
  {
    id: "personality",
    title: "ì—ê²ë‚¨/í…Œí† ë‚¨ í…ŒìŠ¤íŠ¸",
    description: "ë‹¹ì‹ ì€ ì—ê²ë‚¨(ê°œë°©ì ) ì„±í–¥ì¸ê°€ìš”? ì•„ë‹ˆë©´ í…Œí† ë‚¨(ë‚´í–¥ì ) ì„±í–¥ì¸ê°€ìš”? 10ê°€ì§€ ì§ˆë¬¸ìœ¼ë¡œ ì•Œì•„ë³´ì„¸ìš”!",
    duration: "3ë¶„ ì†Œìš”",
    icon: "fas fa-users",
    gradient: "from-primary via-secondary to-accent",
    questions: [
      {
        text: "ìƒˆë¡œìš´ ì‚¬ëŒë“¤ê³¼ ë§Œë‚˜ëŠ” ìë¦¬ì—ì„œ ë‹¹ì‹ ì€?",
        options: ["ë¨¼ì € ë‹¤ê°€ê°€ì„œ ëŒ€í™”ë¥¼ ì‹œì‘í•œë‹¤", "ë‹¤ë¥¸ ì‚¬ëŒì´ ë§ì„ ê±¸ì–´ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤"]
      },
      {
        text: "ì£¼ë§ì— ì„ í˜¸í•˜ëŠ” í™œë™ì€?",
        options: ["ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ë°”ê¹¥ í™œë™", "ì§‘ì—ì„œ í˜¼ì ì·¨ë¯¸ìƒí™œ"]
      },
      {
        text: "ìƒˆë¡œìš´ ë„ì „ì— ëŒ€í•œ íƒœë„ëŠ”?",
        options: ["ì ê·¹ì ìœ¼ë¡œ ë°›ì•„ë“¤ì¸ë‹¤", "ì‹ ì¤‘í•˜ê²Œ ê³ ë¯¼í•´ë³¸ë‹¤"]
      },
      {
        text: "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ì„ ë•Œ ë‹¹ì‹ ì€?",
        options: ["ì¹œêµ¬ë“¤ê³¼ ì´ì•¼ê¸°í•˜ë©° í•´ì†Œí•œë‹¤", "í˜¼ìì„œ ì¡°ìš©íˆ ì •ë¦¬í•œë‹¤"]
      },
      {
        text: "íŒ€ í”„ë¡œì íŠ¸ì—ì„œ ë‹¹ì‹ ì˜ ì—­í• ì€?",
        options: ["ì ê·¹ì ìœ¼ë¡œ ì˜ê²¬ì„ ì œì‹œí•œë‹¤", "ë‹¤ë¥¸ ì‚¬ëŒì˜ ì˜ê²¬ì„ ë“£ê³  ë”°ë¥¸ë‹¤"]
      },
      {
        text: "ê°ˆë“± ìƒí™©ì—ì„œ ë‹¹ì‹ ì€?",
        options: ["ì§ì ‘ì ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤", "ì‹œê°„ì„ ë‘ê³  ì§€ì¼œë³¸ë‹¤"]
      },
      {
        text: "ìƒˆë¡œìš´ í™˜ê²½ì— ì ì‘í•  ë•Œ?",
        options: ["ë¹ ë¥´ê²Œ ì ì‘í•˜ë ¤ê³  ë…¸ë ¥í•œë‹¤", "ì²œì²œíˆ ìµìˆ™í•´ì§ˆ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤"]
      },
      {
        text: "ì˜ì‚¬ê²°ì •ì„ í•  ë•Œ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒì€?",
        options: ["ì§ê°ê³¼ ê°ì •", "ë…¼ë¦¬ì™€ ë¶„ì„"]
      },
      {
        text: "ì¹œêµ¬ë“¤ì´ ë‹¹ì‹ ì„ ì–´ë–»ê²Œ ìƒê°í• ê¹Œìš”?",
        options: ["í™œë°œí•˜ê³  ì‚¬êµì ì¸ ì‚¬ëŒ", "ì¡°ìš©í•˜ê³  ì‹ ì¤‘í•œ ì‚¬ëŒ"]
      },
      {
        text: "ë¯¸ë˜ì— ëŒ€í•œ ê³„íšì„ ì„¸ìš¸ ë•Œ?",
        options: ["êµ¬ì²´ì ì´ê³  í˜„ì‹¤ì ìœ¼ë¡œ", "ìœ ì—°í•˜ê²Œ ìƒí™©ì— ë§ì¶°"]
      }
    ],
    results: {
      high: {
        type: "ì—ê²ë‚¨",
        title: "ë‹¹ì‹ ì€ ì—ê²ë‚¨ì´ì—ìš”!",
        description: "ë‹¹ì‹ ì€ ì‚¬ëŒë“¤ê³¼ ì–´ìš¸ë¦¬ëŠ” ê²ƒì„ ì¢‹ì•„í•˜ê³ , ìƒˆë¡œìš´ í™˜ê²½ì—ì„œë„ ë¹ ë¥´ê²Œ ì ì‘í•˜ëŠ” íƒ€ì…ì´ì—ìš”! ì—ë„ˆì§€ê°€ ë„˜ì¹˜ê³  ì ê·¹ì ì¸ ì„±ê²©ìœ¼ë¡œ ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œ ê¸ì •ì ì¸ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” í¸ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ê°€ë”ì€ í˜¼ìë§Œì˜ ì‹œê°„ë„ í•„ìš”í•˜ë‹¤ëŠ” ê±¸ ìŠì§€ ë§ˆì„¸ìš”! âœ¨",
        image: "/extrovert.jpg",
        characteristics: ["ì‚¬êµì ", "ì ê·¹ì ", "ì—ë„ˆì§€ ë„˜ì¹¨", "ë¦¬ë”ì‹­"]
      },
      low: {
        type: "í…Œí† ë‚¨",
        title: "ë‹¹ì‹ ì€ í…Œí† ë‚¨ì´ì—ìš”!",
        description: "ë‹¹ì‹ ì€ ê¹Šì´ ìˆëŠ” ì‚¬ê³ ë¥¼ í•˜ë©°, ì†Œìˆ˜ì˜ ì‚¬ëŒë“¤ê³¼ ì§„ì†”í•œ ê´€ê³„ë¥¼ ë§ºëŠ” ê²ƒì„ ì„ í˜¸í•´ìš”. ì‹ ì¤‘í•˜ê³  ì‚¬ë ¤ ê¹Šì€ ì„±ê²©ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•  ë•Œ ë‹¤ì–‘í•œ ê´€ì ì„ ê³ ë ¤í•˜ëŠ” í¸ì…ë‹ˆë‹¤. í˜¼ìë§Œì˜ ì‹œê°„ì„ í†µí•´ ì—ë„ˆì§€ë¥¼ ì¶©ì „í•˜ëŠ” íƒ€ì…ì´ì—ìš”! ğŸŒ™",
        image: "/introvert.jpg",
        characteristics: ["ì‹ ì¤‘í•¨", "ê¹Šì´ ìˆëŠ” ì‚¬ê³ ", "ì§„ì†”í•¨", "ì§‘ì¤‘ë ¥"]
      }
    }
  },
  {
    id: "mbti",
    title: "MBTI ê°„ë‹¨ í…ŒìŠ¤íŠ¸",
    description: "16ê°€ì§€ ì„±ê²© ìœ í˜• ì¤‘ ë‹¹ì‹ ì˜ MBTIëŠ” ë¬´ì—‡ì¼ê¹Œìš”? ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ë¡œ í™•ì¸í•´ë³´ì„¸ìš”!",
    duration: "5ë¶„ ì†Œìš”",
    icon: "fas fa-chart-pie",
    gradient: "from-emerald-500 via-blue-500 to-purple-500",
    questions: [
      {
        text: "íŒŒí‹°ì—ì„œ ë‹¹ì‹ ì€?",
        options: ["ì—¬ëŸ¬ ì‚¬ëŒê³¼ ëŒ€í™”ë¥¼ ë‚˜ëˆˆë‹¤", "ì†Œìˆ˜ì˜ ì‚¬ëŒê³¼ ê¹Šì€ ëŒ€í™”ë¥¼ í•œë‹¤"]
      },
      {
        text: "ì •ë³´ë¥¼ ë°›ì•„ë“¤ì¼ ë•Œ?",
        options: ["êµ¬ì²´ì ì¸ ì‚¬ì‹¤ì„ ì¤‘ìš”ì‹œí•œë‹¤", "ê°€ëŠ¥ì„±ê³¼ ì˜ë¯¸ë¥¼ ì°¾ëŠ”ë‹¤"]
      },
      {
        text: "ê²°ì •ì„ ë‚´ë¦´ ë•Œ?",
        options: ["ë…¼ë¦¬ì  ë¶„ì„ì„ í•œë‹¤", "ê°€ì¹˜ì™€ ê°ì •ì„ ê³ ë ¤í•œë‹¤"]
      },
      {
        text: "ì¼ìƒìƒí™œì—ì„œ?",
        options: ["ê³„íšì„ ì„¸ìš°ê³  ë”°ë¥¸ë‹¤", "ìœ ì—°í•˜ê²Œ ìƒí™©ì— ë§ì¶˜ë‹¤"]
      },
      {
        text: "ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ë°©ë²•ì€?",
        options: ["ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ì‹œê°„ì„ ë³´ë‚¸ë‹¤", "í˜¼ìë§Œì˜ ì‹œê°„ì„ ê°–ëŠ”ë‹¤"]
      }
    ],
    results: {
      high: {
        type: "ì™¸í–¥ì  ìœ í˜•",
        title: "ë‹¹ì‹ ì€ ì™¸í–¥ì  ì„±ê²©ì´ì—ìš”!",
        description: "ë‹¹ì‹ ì€ í™œë°œí•˜ê³  ì‚¬êµì ì¸ ì„±ê²©ìœ¼ë¡œ ì‚¬ëŒë“¤ê³¼ì˜ ìƒí˜¸ì‘ìš©ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ì–´ìš”. ìƒˆë¡œìš´ ê²½í—˜ì„ ì¦ê¸°ê³  ì ê·¹ì ìœ¼ë¡œ ì„¸ìƒê³¼ ì†Œí†µí•˜ëŠ” íƒ€ì…ì…ë‹ˆë‹¤!",
        image: "/extrovert.jpg",
        characteristics: ["ì™¸í–¥ì ", "í™œë°œí•¨", "ì‚¬êµì ", "ì ê·¹ì "]
      },
      low: {
        type: "ë‚´í–¥ì  ìœ í˜•",
        title: "ë‹¹ì‹ ì€ ë‚´í–¥ì  ì„±ê²©ì´ì—ìš”!",
        description: "ë‹¹ì‹ ì€ ê¹Šì´ ìˆëŠ” ì‚¬ê³ ë¥¼ í†µí•´ ì—ë„ˆì§€ë¥¼ ì–»ê³ , ì˜ë¯¸ ìˆëŠ” ê´€ê³„ë¥¼ ì¤‘ìš”ì‹œí•´ìš”. ì‹ ì¤‘í•˜ê³  ì‚¬ë ¤ ê¹Šì€ ì ‘ê·¼ì„ í†µí•´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” íƒ€ì…ì…ë‹ˆë‹¤!",
        image: "/introvert.jpg",
        characteristics: ["ë‚´í–¥ì ", "ì‹ ì¤‘í•¨", "ê¹Šì´ ìˆìŒ", "ì§‘ì¤‘ë ¥"]
      }
    }
  }
];

export function getTestById(id: string): Test | undefined {
  return tests.find(test => test.id === id);
}

export function calculateResult(testId: string, answers: string[]): TestResult & { percentage: number } {
  const test = getTestById(testId);
  if (!test) {
    throw new Error("Test not found");
  }

  const aCount = answers.filter(answer => answer === 'A').length;
  const percentage = Math.round((aCount / answers.length) * 100);
  
  const result = percentage >= 60 ? test.results.high : test.results.low;
  
  return {
    ...result,
    percentage
  };
}
